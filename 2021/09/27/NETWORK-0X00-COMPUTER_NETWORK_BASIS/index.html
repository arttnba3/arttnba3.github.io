

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/avatar.png">
  <link rel="icon" href="/img/avatar.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="arttnba3">
  <meta name="keywords" content="">
  
    <meta name="description" content="我爱计网计网爱我">
<meta property="og:type" content="article">
<meta property="og:title" content="【NETWORK.0x00】计算机网络原理学习笔记">
<meta property="og:url" content="https://arttnba3.github.io/2021/09/27/NETWORK-0X00-COMPUTER_NETWORK_BASIS/index.html">
<meta property="og:site_name" content="arttnba3&#39;s blog">
<meta property="og:description" content="我爱计网计网爱我">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2021/09/28/euyDX8sOpirTSVM.png">
<meta property="article:published_time" content="2021-09-26T14:27:43.000Z">
<meta property="article:modified_time" content="2022-08-18T17:48:07.000Z">
<meta property="article:author" content="arttnba3">
<meta property="article:tag" content="计算机网络">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://i.loli.net/2021/09/28/euyDX8sOpirTSVM.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>【NETWORK.0x00】计算机网络原理学习笔记 - arttnba3&#39;s blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"arttnba3.github.io","root":"/","version":"1.9.2","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":"§"},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.2.0"><link rel="alternate" href="/atom.xml" title="arttnba3's blog" type="application/atom+xml">
</head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 80vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>arttnba3&#39;s blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                友链
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/atom.xml">
                <i class="iconfont icon-rss"></i>
                rss
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('https://i.loli.net/2021/09/28/AGyOHXZINmP7R4C.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="【NETWORK.0x00】计算机网络原理学习笔记"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2021-09-27 00:27" pubdate>
          2021年9月27日 凌晨
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          11k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          95 分钟
        
      </span>
    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> 次
        </span>
        
      
    
  </div>


        
      </div>

      
        <div class="scroll-down-bar">
          <i class="iconfont icon-arrowdown"></i>
        </div>
      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">【NETWORK.0x00】计算机网络原理学习笔记</h1>
            
              <p class="note note-info">
                
                  
                    本文最后更新于：2022年8月19日 凌晨
                  
                
              </p>
            
            
              <div class="markdown-body">
                
                <p>我爱计网计网爱我</p>
<span id="more"></span>

<blockquote>
<p><del>我像计网爱我那样爱计网</del>（🔫</p>
</blockquote>
<h1 id="0x00-写在开始之前"><a href="#0x00-写在开始之前" class="headerlink" title="0x00.写在开始之前"></a>0x00.写在开始之前</h1><p>计算机网络原理一直都是计算机科学与技术中十分基础与重要的的课程，刚好这学期开了计算机网络这门课，<del>为了避免挂科还是</del>学到一点写一点，不过本篇博文<strong>并非考试导向性质的笔记，只会记录笔者认为重要的内容，不会特意标注所谓重点</strong>（<del>什么·？你想拿来考研？</del></p>
<p>主要参照《数据通信与网络》与老师上课用的 PPT，配合着笔者个人的一些理解，笔者认为不重要的会标注 <code>*</code>，如有错误还请大家不吝赐教</p>
<p>当前进度：Chapter.06   2022.1.5（如果看到笔者还没更新完请提醒笔者（笑））</p>
<blockquote>
<p>简单看了一下这本书主要以自底向上的方式混合叙述了 TCP&#x2F;IP 四层模型与 OSI 七层模型的内容：物理层、数据链路层（前面这两层在 TCP&#x2F;IP 中合为网络访问层）、网络层、传输层、应用层（在 OSI 七层模型中应用层被分为三层，自底向上为：会话层、表示层、应用层）</p>
</blockquote>
<blockquote>
<p>附上两张从网上找到的图</p>
<p><img src="https://i.loli.net/2021/09/28/AGyOHXZINmP7R4C.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="https://i.loli.net/2021/09/28/FRj2ZYOiT1Ah8wo.png" srcset="/img/loading.gif" lazyload></p>
</blockquote>
<h1 id="0x01-概述"><a href="#0x01-概述" class="headerlink" title="0x01.概述"></a>0x01.概述</h1><h2 id="Chapter-1-绪论"><a href="#Chapter-1-绪论" class="headerlink" title="Chapter 1 - 绪论"></a>Chapter 1 - 绪论</h2><h3 id="1-1-数据通信"><a href="#1-1-数据通信" class="headerlink" title="1.1 数据通信"></a>1.1 数据通信</h3><p><strong>数据通信</strong>（data communication）即在两台设备间进行数据交换，其效率主要取决于以下四个因素：</p>
<ul>
<li><strong>传递性</strong>：系统必须将数据传递到正确的目的地</li>
<li><strong>准确性</strong>：系统必须准确地传输数据</li>
<li><strong>及时性</strong>：系统必须以及时的方式传递数据</li>
<li><strong>抖动性</strong>：分组到达时间的变化率应当要低</li>
</ul>
<p>一个数据通信系统主要有如下图所示的五个组成部分：</p>
<p><img src="https://i.loli.net/2021/09/28/KhQv3z84rsBbkWD.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<ul>
<li><strong>报文</strong>（message）：即用以进行通信的数据</li>
<li><strong>发送方</strong>（sender）：发送报文的设备</li>
<li><strong>接收方</strong>（receiver）：接收报文的设备</li>
<li><strong>传输介质</strong>（transmission medium）：报文从发送方到接收方所经过的物理通路</li>
<li><strong>协议</strong>（protocol）：用以管理数据通信的一组规则，表示通信设备之间如何进行通信的约定</li>
</ul>
<p>两台设备之间的<strong>通信模式</strong>主要有以下三种：</p>
<p><img src="https://i.loli.net/2021/09/27/yaMkHe24ctFIYob.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<ul>
<li><strong>单工</strong>（simplex mode）：两台设备间的通信是单向的，一方只能为接收方而另一方只能为发送方</li>
<li>(全)<strong>双工</strong>（(full-)duplex mode）：两台设备间的通信是双向的，<strong>通信双方都可以同时收发报文</strong></li>
<li><strong>半双工</strong>（half-duplex mode）：两台设备间的通信是双向的，但是<strong>在同一时刻报文的传输只能是单向的</strong></li>
</ul>
<h3 id="1-2-网络"><a href="#1-2-网络" class="headerlink" title="1.2 网络"></a>1.2 网络</h3><h4 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h4><p><strong>网络</strong>（network）即为用通信链路连接起来的<strong>设备</strong>（称之为节点）<strong>的集合</strong></p>
<blockquote>
<p><strong>分布式处理</strong>（distributed processing）为一种典型的网络模式：将一个任务分给多个节点处理</p>
</blockquote>
<p>我们主要从以下三个方面评估一个网络：</p>
<ul>
<li><strong>性能</strong>（performance）：主要由以下两个因素进行度量：<ul>
<li><strong>吞吐量</strong>（throughput）：【相当一段时间】内收发的总数据量</li>
<li><strong>延迟</strong>（delay&#x2F;latency）：请求响应【出入系统的时间】</li>
</ul>
</li>
</ul>
<p>吞吐量大延迟不一定低，反之亦然，因为吞吐量描述的是整个系统的性能，而延迟描述的是系统对于用户的响应时间</p>
<blockquote>
<p>例如一个系统可以一次吞吐 114514 TB数据，但一次只能处理233个用户的请求，此时一次性来了1919810个用户，延迟就爆炸了</p>
</blockquote>
<ul>
<li><strong>可靠性</strong>（reliability）：即网络是否可靠，主要由故障出现的频率、出错的恢复时间、抗灾性能三个方面来衡量</li>
<li><strong>安全性</strong>（security）：网络是否能够保护数据在传输过程中不被窃取与破解、数据丢失后是否有较好的恢复策略</li>
</ul>
<h4 id="连接类型"><a href="#连接类型" class="headerlink" title="连接类型"></a>连接类型</h4><p>网络的<strong>连接类型</strong>主要有以下两种：</p>
<p><img src="https://i.loli.net/2021/09/28/nH1qta5ml4vTFzY.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<ul>
<li><strong>点到点</strong>（point-to-point）：两台设备之间使用一条专用链路进行通信</li>
<li><strong>多点连接</strong>（multipoint connection）：在一条通信链路上有着多台设备</li>
</ul>
<h4 id="拓扑结构"><a href="#拓扑结构" class="headerlink" title="拓扑结构"></a>拓扑结构</h4><p><strong>物理拓扑结构</strong>（physical topology）指的是网络在物理上分布的方式，一条链路上连接着两台或多台设备，两条或多条链路组成拓扑结构，主要有以下几种：</p>
<ul>
<li><p><strong>网状</strong>：网络中的数个节点之间互相<strong>自由连接</strong>，形成一张网</p>
</li>
<li><p><strong>星型</strong>：网络中的数个节点拥有一条与中央节点连接的链路，这个中央节点通常是一个集线器（sub）</p>
</li>
<li><p><strong>总线型</strong>：由一条较长的线缆作为<strong>主干</strong>（backbone）来连接网络上的所有设备</p>
</li>
<li><p><strong>环状</strong>：每台设备只与其两侧的设备有一条专用的点到点连接，环中的每个设备中安装有一个中继器</p>
<blockquote>
<p>笔者认为环状可以理解为总线型首尾相连，每个设备多出一个中继器</p>
</blockquote>
</li>
<li><p><strong>混合型</strong>：由上述拓扑结构中的两种及以上构成的网络</p>
</li>
</ul>
<h4 id="规模分类"><a href="#规模分类" class="headerlink" title="规模分类"></a>规模分类</h4><p><strong>根据网络的规模</strong>，我们将网络分为以下两种类型：</p>
<ul>
<li><strong>局域网</strong>（local area network，简称 LAN）：由一定范围内的少量设备组成的网络，通常是私有网络</li>
<li><strong>广域网</strong>（wide area network，简称 WAN）：大范围内的数个局域网与设备组成的网络</li>
</ul>
<p><strong>互联网络</strong>（internet）便是由多个网络彼此连接组成的网络，最著名的互联网便是因特网（Internet）</p>
<blockquote>
<p> 还有一种介于广域网与局域网间的概念叫城域网，不过在笔者看来似乎并不常用</p>
</blockquote>
<h3 id="1-3-协议"><a href="#1-3-协议" class="headerlink" title="1.3 协议"></a>1.3 协议</h3><p><strong>协议</strong>（protocol）即为用来管理数据通讯的一组规则，其定义了通信的内容、通信的方式与通信的时间。协议的核心要素为：</p>
<ul>
<li><strong>语法</strong>（syntax）：数据的结构或格式</li>
</ul>
<blockquote>
<p>比如说协议A定义了数据格式为 header + data，定义了 header 中的按 8 字节分组为 header size、sender address、receiver address、data length…等等</p>
</blockquote>
<ul>
<li><strong>语义</strong>（semantics）：每一个位片段的含义</li>
</ul>
<blockquote>
<p>例如协议 A 中的 sender address 的前两位标识了路由…等等</p>
</blockquote>
<ul>
<li><strong>时序</strong>（timing）：报文的发送时间与发送速率</li>
</ul>
<h2 id="Chapter-2-网络模型"><a href="#Chapter-2-网络模型" class="headerlink" title="Chapter 2 - 网络模型"></a>Chapter 2 - 网络模型</h2><p>目前主要有两种网络<strong>分层</strong>模型：<code>OSI七层模型</code>（Open System Interconnection，开放式系统互联）与 <code>TCP/IP 模型</code>，其对应关系如下图所示：</p>
<p><img src="https://i.loli.net/2021/09/28/1ujnpTi6efUPwEX.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<p>信息在发送时通过各层提供的接口由高层向低层传递，逐层封装，接收方再逐层进行解封，如下图所示：</p>
<p><img src="https://i.loli.net/2021/10/08/r3Zoi6bufOAyNep.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h3 id="2-1-OSI-Model"><a href="#2-1-OSI-Model" class="headerlink" title="2.1 OSI Model"></a>2.1 OSI Model</h3><p>由 ISO 定义的一个网络模型，结构如下图所示：</p>
<blockquote>
<p>这张图也是从网上偷的</p>
</blockquote>
<p><img src="https://i.loli.net/2021/10/09/OIbesTYf79y3pDw.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h4 id="物理层（physical-layer）"><a href="#物理层（physical-layer）" class="headerlink" title="物理层（physical layer）"></a>物理层（physical layer）</h4><p>定义了接口与传输介质的物理属性，以及物理设备和接口为了传输而必须执行的过程和功能，其主要关注如下问题：</p>
<ul>
<li><strong>接口与介质的物理特性</strong></li>
<li><strong>位的表示</strong>（编码类型，即如何将0&#x2F;1转换为信号）</li>
<li><strong>数据速率</strong>（每秒发送的位数）</li>
<li><strong>位同步</strong>（收发双方时钟同步）</li>
<li><strong>线路配置</strong></li>
<li><strong>物理拓扑结构</strong></li>
<li><strong>传输方式</strong></li>
</ul>
<h4 id="数据链路层（data-link-layer）"><a href="#数据链路层（data-link-layer）" class="headerlink" title="数据链路层（data link layer）"></a>数据链路层（data link layer）</h4><p>该层负责<strong>帧</strong>（<strong>frame</strong>）<strong>从一个节点</strong>（<strong>node</strong>）<strong>到下一个节点的传输</strong>，职能如下：</p>
<ul>
<li><strong>分帧</strong>：将从网络层接收到的数据流划分为称为<strong>帧</strong>（<strong>frame</strong>）的单元</li>
<li><strong>物理寻址</strong>：数据链路层会在 frame header 中记录<strong>发送方与接收方的物理地址</strong>（主要是 mac 地址），若目标设备处在发送设备所处网络内，则 frame header 中记录的接收方地址为目标设备地址，否则为下一个节点的地址</li>
</ul>
<blockquote>
<p>由此我们可以看出：若是在同一个二层网络中有两台 mac 相同的设备，则这两台设备将完全不能进行通信：上层交换机可能弄混这两台设备导致发错包</p>
</blockquote>
<ul>
<li><strong>流量控制</strong>：主要是调控发送方的速率，防止接收方过载</li>
<li><strong>差错控制</strong>：检测与重发损坏或丢失的帧，去除重复帧，保证数据可靠性</li>
<li><strong>访问控制</strong>：决定多台设备并发访问同一条链路的访问顺序</li>
</ul>
<h4 id="网络层（network-layer）"><a href="#网络层（network-layer）" class="headerlink" title="网络层（network layer）"></a>网络层（network layer）</h4><p>该层负责将各个分组从源地址传递到目标地址（主要是针对不同链路中的设备，对于同一链路上的设备间的通信则可以不需要网络层的经手），主要任务为：</p>
<ul>
<li><strong>逻辑寻址</strong>：网络层会在 data header 中记录<strong>发送方与接收方的逻辑地址</strong>（最常用的为 IP 地址）</li>
<li><strong>路由选择</strong>：在多个链路构成的互联网中通过连接设备（路由器&#x2F;网关）将分组送至其最终目的地</li>
</ul>
<h4 id="传输层（transport-layer）"><a href="#传输层（transport-layer）" class="headerlink" title="传输层（transport layer）"></a>传输层（transport layer）</h4><p>该层负责报文的<strong>进程到进程传递</strong>（<strong>process-to-process delivery</strong>），即将报文送到相应的端口，传递给对应的进程，具体任务如下：</p>
<ul>
<li><strong>服务点寻址</strong>：在传输层的 header 中记录了进程对应的_服务点地址_（端口地址），由此将报文传送给指定进程</li>
<li><strong>分段和组装</strong>：将报文分解为可传输片段并标号以保证数据可靠性</li>
<li><strong>连接控制</strong>：传输层可以是无连接的（例如 UDP）也可以是面向连接的（例如 TCP），前者直接进行报文的传输，后者在此之前还需要进行连接的建立（例如经典的 TCP 三次握手）</li>
<li><strong>流量控制</strong>：主要是调控发送方的速率，防止接收方过载，与数据链路层不同的是这一层的流量控制在_端到端_上（两个通信的进程之间）</li>
<li><strong>差错控制</strong>：检测与重发损坏或丢失的片段，去除重复片段，保证数据可靠性</li>
</ul>
<blockquote>
<p>至此，数据在网络间的传输过程已经结束，接下来的三层在笔者看来<strong>与实际应用程序相关联，并不与计算机网络原理具有强关联</strong>，故不会详细叙述</p>
<h4 id="会话层（session-layer）"><a href="#会话层（session-layer）" class="headerlink" title="*会话层（session layer）"></a><em>*会话层（session layer）</em></h4><p>该层主要负责对话控制与同步</p>
<h4 id="表示层（presentation-layer）"><a href="#表示层（presentation-layer）" class="headerlink" title="*表示层（presentation layer）"></a><em>*表示层（presentation layer）</em></h4><p>该层主要负责翻译、加密与压缩数据</p>
<h4 id="应用层（application-layer）"><a href="#应用层（application-layer）" class="headerlink" title="*应用层（application layer）"></a><em>*应用层（application layer）</em></h4><p>该层主要负责向用户提供服务</p>
</blockquote>
<h3 id="2-2-TCP-x2F-IP-协议族"><a href="#2-2-TCP-x2F-IP-协议族" class="headerlink" title="2.2 TCP&#x2F;IP 协议族"></a>2.2 TCP&#x2F;IP 协议族</h3><p>TCP&#x2F;IP 协议族与 OSI 七层模型<strong>并非严格对应</strong>，但大致上存在如本章头图所示的对应关系</p>
<h4 id="网络访问层（network-access）"><a href="#网络访问层（network-access）" class="headerlink" title="网络访问层（network access）"></a>网络访问层（network access）</h4><p>相当于 OSI Model 中的 <code>物理层 + 数据链路层</code>，在这一层中支持所有的标准与专门协议</p>
<blockquote>
<p>也有人称为 “一个大的物理层”</p>
</blockquote>
<h4 id="互联网层（internet）"><a href="#互联网层（internet）" class="headerlink" title="互联网层（internet）"></a>互联网层（internet）</h4><p>相当于 OSI Model 中的 <code>网络层</code>，在这一层中使用<strong>网际协议</strong>（<strong>Internetworking Protocol， 即 IP</strong>）</p>
<p>网际协议为 TCP&#x2F;IP 协议使用的传输机制，其支持四个子协议：</p>
<ul>
<li><strong>地址解析协议</strong>（<strong>Address Resolution Protocol，即 ARP</strong>）：通过逻辑地址获得对应物理地址（例如由 IP 地址寻找对应 mac 地址）</li>
<li><strong>逆地址解析协议</strong>（<strong>Reverse Address Resolution Protocol，即 RARP</strong>）：设备第一次接入网络时向网关请求逻辑地址</li>
<li><strong>因特网控制报文协议</strong>（<strong>Internet Control Message Protocol，即 ICMP</strong>）：用于在 IP 主机与路由之间传递控制消息（网络是否连通、主机是否可达、路由是否可用等）</li>
<li><strong>因特网控制报文协议</strong>（<strong>Internet Group Message Protocol，即 IGMP</strong>）：用于主机与本地路由器之间进行组播组成员信息的交互（决定分组信息与组播报文的传递）</li>
</ul>
<h4 id="传输层（transport）"><a href="#传输层（transport）" class="headerlink" title="传输层（transport）"></a>传输层（transport）</h4><p>相当于 OSI Model 中的 <code>传输层</code>，负责报文的进程间传递，主要支持如下协议：</p>
<ul>
<li><strong>用户数据报协议</strong>（<strong>User Datagram Protocol， 即 UDP</strong>）：无连接的传输</li>
<li><strong>传输控制协议</strong>（<strong>Transmission Control Protocol，即 TCP</strong>）：面向连接的传输</li>
<li>流控制传输协议（Stream Control Transmission Protocol，即 SCTP）</li>
</ul>
<h4 id="应用层（application）"><a href="#应用层（application）" class="headerlink" title="应用层（application）"></a>应用层（application）</h4><p>相当于 OSI Model 中的 <code>会话层 + 表示层 + 应用层</code>，常见的 <code>http/ftp/telnet/ssh/snmp/smb</code> 等都在这一层</p>
<p>综上，我们可以将 TCP&#x2F;IP 模型化为较为通用的<strong>五层</strong>层次结构，如下图所示：</p>
<p><img src="https://i.loli.net/2021/10/09/tiopV6dEJwjSYmu.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h3 id="2-3-寻址"><a href="#2-3-寻址" class="headerlink" title="2.3 寻址"></a>2.3 寻址</h3><p>对于采用了 TCP&#x2F;IP 协议的互联网而言其使用四层地址结构：</p>
<h4 id="物理（链路）地址（physical-（link）-address）："><a href="#物理（链路）地址（physical-（link）-address）：" class="headerlink" title="物理（链路）地址（physical （link） address）："></a><strong>物理</strong>（<strong>链路</strong>）<strong>地址</strong>（<strong>physical</strong> （<strong>link</strong>） <strong>address</strong>）：</h4><p>对应 TCP&#x2F;IP 四层模型中的网络访问层（物理层），主要在网络（LAN&#x2F;WAN）中使用，<strong>不同网络中的物理地址格式可能不同</strong></p>
<h4 id="逻辑（IP）地址（logical-（IP）-address）"><a href="#逻辑（IP）地址（logical-（IP）-address）" class="headerlink" title="逻辑（IP）地址（logical （IP） address）"></a><strong>逻辑</strong>（<strong>IP</strong>）<strong>地址</strong>（<strong>logical</strong> （<strong>IP</strong>） <strong>address</strong>）</h4><p>对应 TCP&#x2F;IP 四层模型中的互联网层，与物理地址无关，作为互联网环境中一台设备的<strong>唯一标记</strong>，在一个互联网中<strong>没有两台主机具有相同的 IP 地址</strong></p>
<blockquote>
<p>由此我们可以看出，在数据在节点到节点的传输过程中<strong>物理地址会发生改变，但逻辑地址并不会</strong></p>
</blockquote>
<h4 id="端口地址（port-addr）"><a href="#端口地址（port-addr）" class="headerlink" title="端口地址（port addr）"></a><strong>端口地址</strong>（<strong>port addr</strong>）</h4><p>对应 TCP&#x2F;IP 四层模型中的传输层，为赋予对应通信进程的标识符，其长度为 16 位</p>
<h4 id="专用地址（private-address）"><a href="#专用地址（private-address）" class="headerlink" title="*专用地址（private address）"></a>*专用地址（private address）</h4><p>对应 TCP&#x2F;IP 四层模型中的应用层，部分面向用户的应用被设计为专用地址（例如邮件地址、URL等）</p>
<h1 id="00x02-物理层和介质"><a href="#00x02-物理层和介质" class="headerlink" title="00x02.物理层和介质"></a>00x02.物理层和介质</h1><blockquote>
<p>笔者最讨厌的物理部分（笑）</p>
<p>一些基本概念这里就不再手抄一遍了，不懂的自己百度（）</p>
</blockquote>
<h2 id="Chapter-3-数据和信号"><a href="#Chapter-3-数据和信号" class="headerlink" title="Chapter 3 - 数据和信号"></a>Chapter 3 - 数据和信号</h2><p>数据若要进行传输，则必须要将其转为电磁信号的形式</p>
<h3 id="3-1-周期模拟信号"><a href="#3-1-周期模拟信号" class="headerlink" title="3.1 周期模拟信号"></a>3.1 周期模拟信号</h3><p>最简单的周期模拟信号为<strong>正弦波</strong>，由多个正弦波组成的信号为复合型模拟信号，我们使用<strong>复合信号</strong>（composite signal）来进行数据通信</p>
<h4 id="带宽（bandwidth）"><a href="#带宽（bandwidth）" class="headerlink" title="带宽（bandwidth）"></a>带宽（bandwidth）</h4><p><strong>复合信号包含的频率范围称为带宽</strong>，即带宽通常为信号最高频率与最低频率的差值</p>
<h3 id="3-2-数字信号"><a href="#3-2-数字信号" class="headerlink" title="3.2 数字信号"></a>3.2 数字信号</h3><blockquote>
<p>“《数字信号处理》，一章没看”</p>
</blockquote>
<p>我们可以使用数字信号表示数据——<strong>将不同的数据编码为不同的电平</strong>，例如将 1 编码为正电平而 0 编码为 0 电平。一般来说，对于 L 个不同的电平而言，每个电平可以表示 log<sub>2</sub>L 个位</p>
<p>基于_傅里叶分析_，我们可以得出：数字信号为<strong>带宽无限大的复合模拟信号</strong>。</p>
<h4 id="比特率（bit-rate）"><a href="#比特率（bit-rate）" class="headerlink" title="比特率（bit rate）"></a>比特率（bit rate）</h4><p>比特率即为<strong>一秒中所发送的位数</strong>，单位为<strong>位每秒</strong>（<strong>bits per second，即 bps</strong>）</p>
<h4 id="位长（bit-length）"><a href="#位长（bit-length）" class="headerlink" title="位长（bit length）"></a>位长（bit length）</h4><p>位长即为<strong>一个位在传输介质上的距离</strong>，有如下公式：</p>
<p>$$<br>位长 &#x3D; 传播速度 × 位持续时间<br>$$</p>
<h4 id="数字信号的传输"><a href="#数字信号的传输" class="headerlink" title="数字信号的传输"></a>数字信号的传输</h4><h5 id="基带传输"><a href="#基带传输" class="headerlink" title="基带传输"></a>基带传输</h5><p>即通过通道直接发送数字信号，而非转为模拟信号，<strong>需要一个带宽下限频率为 0 的低通通道</strong></p>
<h5 id="宽带传输（使用调制）"><a href="#宽带传输（使用调制）" class="headerlink" title="宽带传输（使用调制）"></a>宽带传输（使用调制）</h5><p>即将数字信号<strong>转换成模拟信号传输</strong>，调制允许我们使用<strong>带通通道</strong></p>
<h3 id="3-3-传输减损"><a href="#3-3-传输减损" class="headerlink" title="3.3 传输减损"></a>3.3 传输减损</h3><h4 id="衰减（attenuation）"><a href="#衰减（attenuation）" class="headerlink" title="衰减（attenuation）"></a>衰减（attenuation）</h4><p>即信号强度衰减，这意味着能量的损失，为了补偿衰减的能量通常会用放大器放大信号。</p>
<p><img src="https://i.loli.net/2021/10/11/To8UcnqVvRC2dlK.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h5 id="分贝（decibel，-DB）"><a href="#分贝（decibel，-DB）" class="headerlink" title="分贝（decibel， DB）"></a>分贝（decibel， DB）</h5><p>分贝用于描述信号损失&#x2F;增益的强度：<strong>若信号衰减了，则分贝为负值；若信号被放大了，则分贝为正值</strong></p>
<p>设 P<sub>1</sub> 与 P <sub>2</sub> 为信号在位置 1、2 处的功率，则分贝为：<br>$$<br>dB &#x3D; 10 log_{10}\frac{P_2}{P_1}<br>$$</p>
<h4 id="失真（distortion）"><a href="#失真（distortion）" class="headerlink" title="失真（distortion）"></a>失真（distortion）</h4><p>即信号的形状或形态发生了改变</p>
<p><img src="https://i.loli.net/2021/10/11/Dl49Asgq7dZj3GH.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h4 id="噪声（noise）"><a href="#噪声（noise）" class="headerlink" title="噪声（noise）"></a>噪声（noise）</h4><p>噪声即为由各种环境因素<strong>附加在原始信号上的额外的垃圾信号</strong></p>
<p><img src="https://i.loli.net/2021/10/11/MqDXOFIm6rgdh1s.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h5 id="信噪比（signal-to-noise-ratio，SNR）"><a href="#信噪比（signal-to-noise-ratio，SNR）" class="headerlink" title="信噪比（signal-to-noise ratio，SNR）"></a>信噪比（signal-to-noise ratio，SNR）</h5><p>信噪比用以描述信号被噪声破坏的程度，计算公式如下：<br>$$<br>SNR&#x3D;\frac{平均信号功率}{平均噪声功率}<br>$$<br>容易看出，SNR 越高，信号被破坏的越少，反之亦然</p>
<h3 id="3-4-数据速率限制"><a href="#3-4-数据速率限制" class="headerlink" title="3.4 数据速率限制"></a>3.4 数据速率限制</h3><p>数据速率即<strong>每秒传输的比特数</strong>，即<strong>比特率</strong>，通常取决于以下三个因素：</p>
<ul>
<li>有效带宽</li>
<li>使用的信号电平数</li>
<li>通道的质量（噪声电平）</li>
</ul>
<h4 id="无噪声通道：奈奎斯特比特率"><a href="#无噪声通道：奈奎斯特比特率" class="headerlink" title="无噪声通道：奈奎斯特比特率"></a>无噪声通道：奈奎斯特比特率</h4><p>对于无噪声的理想通道，<strong>奈奎斯特比特率</strong>（<strong>Nyquist bit rate</strong>）公式定义了理论上的<strong>最大</strong>比特率：<br>$$<br>比特率 &#x3D; 2 × 带宽 × log_2L<br>$$<br>其中 <code>L</code> 为使用的信号电平数量，需要注意的是 L 的增加会减弱系统的可靠性</p>
<h4 id="噪声通道：香农容量定理"><a href="#噪声通道：香农容量定理" class="headerlink" title="噪声通道：香农容量定理"></a>噪声通道：香农容量定理</h4><p>对于有噪声的通道，其理论上<strong>最大</strong>比特率为：<br>$$<br>通道容量 &#x3D; 通道带宽 × log_2(1 + SNR)<br>$$<br>该公式定义了通道的特性而非传输方式，<strong>其速率与使用的信号电平数量无关</strong></p>
<h3 id="3-5-性能"><a href="#3-5-性能" class="headerlink" title="3.5 性能"></a>3.5 性能</h3><p>我们通过以下几个方面衡量网络的性能</p>
<h4 id="带宽"><a href="#带宽" class="headerlink" title="带宽"></a>带宽</h4><p>链路速度的潜在衡量值，主要有两种衡量方式：以赫兹衡量&#x2F;以每秒比特数衡量</p>
<h4 id="吞吐量"><a href="#吞吐量" class="headerlink" title="吞吐量"></a>吞吐量</h4><p>即单位时间内成功传输的数据量，是链路速度的实际衡量值</p>
<h4 id="延迟"><a href="#延迟" class="headerlink" title="延迟"></a>延迟</h4><p>延迟定义了第一个位从源开始发出到整个报文完全到达目标所经历的时间，由以下四个部分组成</p>
<h5 id="传播时间（propagation-time）"><a href="#传播时间（propagation-time）" class="headerlink" title="传播时间（propagation time）"></a>传播时间（propagation time）</h5><p>即一个位从源传输到目标所需的时间，通过<code>距离➗传播速度</code>计算而得</p>
<h5 id="传输时间（transmission-time）"><a href="#传输时间（transmission-time）" class="headerlink" title="传输时间（transmission time）"></a>传输时间（transmission time）</h5><p>即传输一个报文所需的时间，计算公式为<code>报文长度➗带宽</code></p>
<h5 id="排队时间（queuing-time）"><a href="#排队时间（queuing-time）" class="headerlink" title="排队时间（queuing time）"></a>排队时间（queuing time）</h5><p>每个中间或端设备在处理报文前保持报文所需的时间</p>
<h5 id="处理延迟（processing-delay）"><a href="#处理延迟（processing-delay）" class="headerlink" title="处理延迟（processing delay）"></a>处理延迟（processing delay）</h5><p>接收者处理报文所需时间</p>
<h2 id="Chapter-4-数字传输"><a href="#Chapter-4-数字传输" class="headerlink" title="Chapter 4 - 数字传输"></a>Chapter 4 - 数字传输</h2><h3 id="4-1-数字到数字转换"><a href="#4-1-数字到数字转换" class="headerlink" title="4.1 数字到数字转换"></a>4.1 数字到数字转换</h3><h4 id="线路编码（line-coding）"><a href="#线路编码（line-coding）" class="headerlink" title="线路编码（line coding）"></a>线路编码（line coding）</h4><p>线路编码即为将数字数据转换为数字信号的过程（0110…转换为高低电平），首先明确如下两个概念：</p>
<ul>
<li><p><strong>数据元素</strong>（data element）：数据元素为表示一块信息的最小实体，即<strong>位</strong></p>
</li>
<li><p><strong>信号元素</strong>（signal element）：数字信号的最小单元</p>
</li>
</ul>
<p>数据元素为我们需要发送的数据，信号元素则为我们实际发送的信号，<strong>比率r</strong>为<strong>每个信号元素所承载的数据元素的数量</strong></p>
<p>由以上两个概念有如下定义：</p>
<ul>
<li><strong>数据速率</strong>（data rate）：1 秒内发送的数据元素（位）的数量（也就是<strong>比特率</strong>），单位为 bps</li>
<li><strong>信号速率</strong>（signal rate）：1 秒内发送的信号元素的数量，单位为<strong>波特</strong>（baud），即<strong>波特率</strong></li>
</ul>
<blockquote>
<p>这里注意 baud 本身就包含“每秒”的含义在内，故不存在“波特每秒”的说法</p>
</blockquote>
<p>设 <em>N</em> 为数据速率，<em>c</em> 为情形因子，<em>S</em> 为信号速率，数据速率与信号速率的关系如下：<br>$$<br>S &#x3D; c × N × \frac{1}{r}baud<br>$$<br>最小带宽的计算公式如下：<br>$$<br>B_{min} &#x3D; c × N × \frac{1}{r}<br>$$<br>若通道带宽恒定为 B ，则最大数据速率为：<br>$$<br>N_{max} &#x3D; \frac{1}{c} × B × r<br>$$<br><strong>基线</strong>即为接收方计算接收到信号功率的运行平均值，对于一长串的 0 或 1 的接受很容易引起基线的偏移，称为<strong>基线偏移</strong>（baseline wandering）</p>
<p>当数字信号中电平保持一段时间的恒定时，频谱会产生接近 0 的低频，称之为<strong>直流成分</strong></p>
<p><strong>自同步</strong>（self-synchronization）信号在数据中包含有定时信息，以实现双方时钟同步</p>
<h4 id="编码方案"><a href="#编码方案" class="headerlink" title="编码方案"></a>编码方案</h4><p><img src="https://i.loli.net/2021/10/10/AXvGWmOlxhowsqR.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h5 id="单极编码方案（Unipolar）"><a href="#单极编码方案（Unipolar）" class="headerlink" title="单极编码方案（Unipolar）"></a>单极编码方案（Unipolar）</h5><p>即所有信号电平都在时间轴的一边（时间轴上方或下方）</p>
<ul>
<li><strong>不归零</strong>（<strong>Non-Return-to-Zero, NRZ</strong>）方案：正电平定义为 1 而负电平定义为 0，在位中间信号不会回到0，有着 <em><code>N/2 Bd</code></em> 的平均信号速率</li>
</ul>
<h5 id="极性编码方案（Polar）"><a href="#极性编码方案（Polar）" class="headerlink" title="极性编码方案（Polar）"></a>极性编码方案（Polar）</h5><p>即信号电平分布在时间轴的两边</p>
<blockquote>
<p>例如 0 的电平为正数而 1 的电平为负数</p>
</blockquote>
<ul>
<li><p><strong>不归零</strong>（<strong>Non-Return-to-Zero, NRZ</strong>）方案：</p>
<ul>
<li><strong>NRZ-L</strong>（<strong>NRZ电平编码，即 NRZ-Level</strong>）：即由信号电平决定位值</li>
<li><strong>NRZ-I</strong>（<strong>NRZ反相编码，即 NRZ-Invert</strong>）：信号电平是否反转决定位值（下一个位电平未反转为0，反转了就是1）</li>
</ul>
<p>这两种方案都有着 <em><code>N/2 Bd</code></em> 的平均信号速率，且都存在基线偏移、同步问题、直流成分问题</p>
<p><img src="https://i.loli.net/2021/10/11/Y1DXC2Jc5SQAzZ8.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
</li>
<li><p><strong>归零编码</strong>（<strong>Return-to-Zeron，RZ</strong>）：信号在位中间变化，在每个位中间信号变为0，由两个信号编码一个位</p>
</li>
</ul>
<p><img src="https://i.loli.net/2021/10/11/iVKm2AzTeaB85n1.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<ul>
<li><p><strong>双相编码</strong>（<strong>biphase</strong>）：</p>
<ul>
<li><strong>曼彻斯特编码方案</strong>：两个电平编码一个位（例如【负-正】为1，【正-负】为0）</li>
<li><strong>差分曼彻斯特编码方案</strong>：类似于曼彻斯特编码，不过由跳变决定位值（下一个信号的第一个电平未跳变为1，跳变为0)</li>
</ul>
<p>这两种编码方案中间的跳变用以同步，也不存在基线偏移与直流成分的问题，有着 <em><code>N Bd</code></em> 的平均信号速率</p>
<p><img src="https://i.loli.net/2021/10/11/w9kZh3CxKt8DmcU.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
</li>
</ul>
<h5 id="双极性方案（bipolar）"><a href="#双极性方案（bipolar）" class="headerlink" title="双极性方案（bipolar）"></a>双极性方案（bipolar）</h5><p>又称多电平二进制，其中一个数据元素的电平固定为0，另一个则在正负值间交替。</p>
<ul>
<li><p><strong>AMI</strong>（alternate mark inversion）：中值0电平表示0，1由交替正负电平表示</p>
</li>
<li><p><strong>伪三元编码</strong>：AMI的变形，中值0电平表示1，0由交替正负电平表示</p>
</li>
</ul>
<p>  双极性方案没有直流成分，有着 <em><code>N/2 Bd</code></em> 的平均信号速率，通常用于长距离通信，但<strong>当数据中存在0的长序列时就会有同步问题</strong></p>
<p>  <img src="https://i.loli.net/2021/10/11/HaMg9Pu4kozdcrI.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h5 id="多电平方案（multilevel）"><a href="#多电平方案（multilevel）" class="headerlink" title="*多电平方案（multilevel）"></a>*多电平方案（multilevel）</h5><p>由多个电平表示多个数据元素-&gt;mBnL：有L个电平模式，由n个信号表示m（长度）B（二进制数据）数据</p>
<h5 id="多线路传输（multitransition）"><a href="#多线路传输（multitransition）" class="headerlink" title="*多线路传输（multitransition）"></a>*多线路传输（multitransition）</h5><p>比较典型的就是MLT-3</p>
<h4 id="块编码（block-coding）"><a href="#块编码（block-coding）" class="headerlink" title="*块编码（block coding）"></a>*块编码（block coding）</h4><p>即将 <code>m 位/块</code> 的一组块重新分为 <code>n 位/块</code>的一组块，又称为 <code>mB/nB</code> 编码技术</p>
<p><img src="https://i.loli.net/2021/10/11/iJwnmoaXgDVWYGQ.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h3 id="4-2-模拟到数字转换"><a href="#4-2-模拟到数字转换" class="headerlink" title="4.2 模拟到数字转换"></a>4.2 模拟到数字转换</h3><h4 id="脉冲码调制（Pulse-Code-Modulation-PCM）"><a href="#脉冲码调制（Pulse-Code-Modulation-PCM）" class="headerlink" title="脉冲码调制（Pulse Code Modulation, PCM）"></a>脉冲码调制（Pulse Code Modulation, PCM）</h4><p>将模拟信号转换为数字信号的最通用技术，有如下三个过程：</p>
<p><img src="https://i.loli.net/2021/10/11/Ep9zod8LD6hcgQK.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h5 id="1-采样（sampling）"><a href="#1-采样（sampling）" class="headerlink" title="1.采样（sampling）"></a>1.采样（sampling）</h5><p>又称为<strong>脉冲振幅调制</strong>（pulse amplitude modulation， <strong>PAM</strong>），主要关注两个方面：</p>
<ul>
<li><strong>采样率</strong>（sampling rate）：我们每隔 <em><strong>T<sub>s</sub></strong></em> 秒进行一次采样，采样率 _<strong>f<sub>s </sub></strong>_便是<strong>采样间隔的倒数</strong>，又称为采样频率（sampling frequency）</li>
<li><strong>奈奎斯特采样定理</strong>：为了再生原始模拟信号，<strong>采样速率至少为原始信号最高频率的两倍</strong></li>
</ul>
<h5 id="2-量化（quantizing）"><a href="#2-量化（quantizing）" class="headerlink" title="2.量化（quantizing）"></a>2.量化（quantizing）</h5><p>即将信号的连续取值近似为有限多个离散值的过程，如下：</p>
<ul>
<li>假定原始模拟信号振幅介于 <em><strong>V<sub>min</sub></strong></em> 和 <em><strong>V<sub>min</sub></strong></em> 之间</li>
<li>将范围分为 L 个区间，每个区间高度为 Δ</li>
<li>分配 0 到 L-1 的量化值给每个区间的中点</li>
<li>样本振幅值近似为量化值</li>
</ul>
<h6 id="量化误差"><a href="#量化误差" class="headerlink" title="量化误差"></a>量化误差</h6><p>量化是一个将实际值转为近似值的过程，因此会存在误差，其对信号 SNR<sub>dB</sub> 的影响取决于量化级别 L 或<strong>每个样本位数</strong> n<sub>b</sub></p>
<h5 id="3-编码（encoding）"><a href="#3-编码（encoding）" class="headerlink" title="3.编码（encoding）"></a>3.编码（encoding）</h5><p>将量化后的离散信号转换为原始信号的过程，编码的比特率可以由如下公式计算：<br>$$<br>比特率 &#x3D; 采样速率 × 每个样本位数<br>$$</p>
<h3 id="4-3-传输模式"><a href="#4-3-传输模式" class="headerlink" title="4.3 传输模式"></a>4.3 传输模式</h3><h4 id="并行传输（parallel-transmission）"><a href="#并行传输（parallel-transmission）" class="headerlink" title="并行传输（parallel transmission）"></a>并行传输（parallel transmission）</h4><p>使用 n 条通信线路，从而一次可以发送 n 位数据</p>
<h4 id="串行传输（serial-transmission）"><a href="#串行传输（serial-transmission）" class="headerlink" title="串行传输（serial transmission）"></a>串行传输（serial transmission）</h4><p>只需要 1 条通信线路，一次发发送 1位数据，有三种模式：</p>
<ul>
<li><strong>异步传输</strong>（asynchronous transmission）：将位流按字节分组，（在字节级别上）传输过程中不关心信号的时序（每个 bit 仍要同步），在每个字节开始与结尾添加起始位与停止位以提示接收方</li>
<li><strong>同步传输</strong>（synchronous transmission）：将位流组合为更长的“帧”，一帧包含数个字节，发送方依次发送位流而不含起始位、停止位与间隙</li>
<li><strong>等时传输</strong>（isochronous transmission）：保证数据以固定速率到达</li>
</ul>
<h2 id="Chapter-5-模拟传输"><a href="#Chapter-5-模拟传输" class="headerlink" title="Chapter 5 - 模拟传输"></a>Chapter 5 - 模拟传输</h2><p>数字传输需要低通通道，而我们通常只有带通通道，因此需要将数字数据&#x2F;低通模拟信号转换为带通模拟信号</p>
<h3 id="5-1-数字到模拟转换"><a href="#5-1-数字到模拟转换" class="headerlink" title="5.1 数字到模拟转换"></a>5.1 数字到模拟转换</h3><p><img src="https://i.loli.net/2021/10/11/oxNdktvlIfn2iMa.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h4 id="比特率和波特率"><a href="#比特率和波特率" class="headerlink" title="比特率和波特率"></a>比特率和波特率</h4><p>与数字传输相似，我们同样可以定义比特率与波特率，设比特率为 <em>N</em> ，波特率为 _S_，比率为 _r_，其关系如下：<br>$$<br>S &#x3D; N × \frac{1}{r} baud<br>$$<br>在模拟传输中有 _<strong>r &#x3D; log<sub>2</sub>L</strong>_，其中 <code>L</code> 为信号元素类型，而非电平数，<strong>波特率小于比特率</strong></p>
<h4 id="幅移键控（amplitude-shift-keying，-ASK）"><a href="#幅移键控（amplitude-shift-keying，-ASK）" class="headerlink" title="幅移键控（amplitude-shift keying， ASK）"></a>幅移键控（amplitude-shift keying， ASK）</h4><p><img src="https://i.loli.net/2021/10/11/9BigYEr1qPxCHZm.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<p>以基带数字信号控制载波的幅度变化的调制方式称为幅移键控(ASK)，又称数字调幅</p>
<p>通过改变载波信号的振幅来生成信号元素，<strong>只有振幅变化而频率和相位保持不变</strong></p>
<h5 id="二进制-ASK（BASK）"><a href="#二进制-ASK（BASK）" class="headerlink" title="二进制 ASK（BASK）"></a>二进制 ASK（BASK）</h5><p>信号元素只使用两个电平称之为二进制幅移键控或开关键控（OOK）</p>
<h5 id="ASK-带宽"><a href="#ASK-带宽" class="headerlink" title="ASK 带宽"></a>ASK 带宽</h5><p>设信号速率为 _S_，带宽为 <em>B</em> ，取一个因子 <em>d</em> （取决于调制与过滤处理，值在区间 <code>[0,1]</code>），带宽与信号速率的关系如下：<br>$$<br>B &#x3D; (1+d)×S<br>$$<br>这个公式说明所需带宽最小为 S，最大为 2S，载波频率 <em><strong>f<sub>c</sub></strong></em> 位于带宽中间</p>
<h4 id="频移键控（Frequency-shift-keying，FSK）"><a href="#频移键控（Frequency-shift-keying，FSK）" class="headerlink" title="频移键控（Frequency-shift keying，FSK）"></a>频移键控（Frequency-shift keying，FSK）</h4><p><img src="https://i.loli.net/2021/10/11/kg7T5rdDzsu8lAn.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<p>以基带数字信号控制载波的频率变化的调制方式称为频移键控，通过改变载波信号的频率来表示数据，信号元素的振幅峰值与相位保持不变</p>
<h5 id="二进制-FSK（BFSK）"><a href="#二进制-FSK（BFSK）" class="headerlink" title="二进制 FSK（BFSK）"></a>二进制 FSK（BFSK）</h5><p>即使用两个载波频率表示 0 与 1，通常这两个载波频率很高，之间的差很小</p>
<p>BFSK 的实现方式有：</p>
<ul>
<li><strong>相干</strong>：两个信号元素的边界处的相位是连续的</li>
<li><strong>非相干</strong>：两个信号元素的边界处的相位是非连续的，可以看作两个 ASK</li>
</ul>
<h6 id="BFSK-的带宽"><a href="#BFSK-的带宽" class="headerlink" title="BFSK 的带宽"></a>BFSK 的带宽</h6><p>我们可以将 FSK 看做有着自己载波频率的两个 ASK 信号，若两频率差值为 <em><strong>2 Δf</strong></em> ，则 BFSK 要求的带宽为：<br>$$<br>B &#x3D; (1+d)×S + 2 Δf<br>$$</p>
<h4 id="相移键控（phase-shift-keying，PSK）"><a href="#相移键控（phase-shift-keying，PSK）" class="headerlink" title="相移键控（phase-shift keying，PSK）"></a>相移键控（phase-shift keying，PSK）</h4><p>以基带数字信号控制载波的相位变化的调制方式称为相移键控，通过改变载波的相位来表示两个或多个信号元素，信号元素的峰值振幅与频率保持不变</p>
<h5 id="二进制-PSK（BPSK）"><a href="#二进制-PSK（BPSK）" class="headerlink" title="二进制 PSK（BPSK）"></a>二进制 PSK（BPSK）</h5><p><img src="https://i.loli.net/2021/10/11/7nhKPUdlq3R5NOc.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<p>即只有两个信号元素，一个相位为 0° 而另一个为 180°，相比起 ASK 而言更不易受噪声影响，也不似 FSK 一般需要两个载波信号</p>
<h6 id="BPSK-的带宽"><a href="#BPSK-的带宽" class="headerlink" title="BPSK 的带宽"></a>BPSK 的带宽</h6><p>$$<br>B &#x3D; (1+d)×S<br>$$</p>
<h5 id="正交-PSK（QPSK）"><a href="#正交-PSK（QPSK）" class="headerlink" title="正交 PSK（QPSK）"></a>正交 PSK（QPSK）</h5><p>使用两个独立的 BPSK 调制：一个为同相的，一个为正交（异相）的</p>
<h5 id="正交振幅调制"><a href="#正交振幅调制" class="headerlink" title="正交振幅调制"></a>正交振幅调制</h5><p>为 ASK 与 PSK 的结合：<strong>使用两个载波，一个同相而另一个正交，每个载波都使用不同的振幅</strong>，带宽与 ASK 和 PSK 的最小带宽相同</p>
<h3 id="5-2-模拟信号调制"><a href="#5-2-模拟信号调制" class="headerlink" title="*5.2 模拟信号调制"></a>*5.2 模拟信号调制</h3><p>由于介质的限制因此有的时候我们还需要将模拟信号进行调制，即<strong>模拟到模拟转换</strong>（analog-to-analog conversion），主要有三种方法：</p>
<ul>
<li><p>调幅（amplitude modulation，AM）</p>
</li>
<li><p>调频（frequency modulation，FM）</p>
</li>
<li><p>调相（phase modulation，PM）</p>
</li>
</ul>
<h2 id="Chapter-6-带宽利用"><a href="#Chapter-6-带宽利用" class="headerlink" title="Chapter 6 - 带宽利用"></a>Chapter 6 - 带宽利用</h2><p>为达到相应的目的，有时需要对带宽进行特殊的利用：复用带宽以获得效率、扩频以进行保密与抗干扰</p>
<h3 id="6-1-复用（multiplexing）"><a href="#6-1-复用（multiplexing）" class="headerlink" title="6.1 复用（multiplexing）"></a>6.1 复用（multiplexing）</h3><p>复用即允许同时通过一条数据链路传输多个信号的一组技术：多条线路的传输流量送到<strong>复用器</strong>（multiplexer，MUX）后被组成一个单独的传输流，在接收端被<strong>分离器</strong>（demultiplexer，DEMUX）接收，分解为原先的独立传输流</p>
<h4 id="频分复用（frequency-division-multiplexing，-FDM）"><a href="#频分复用（frequency-division-multiplexing，-FDM）" class="headerlink" title="频分复用（frequency-division multiplexing， FDM）"></a>频分复用（frequency-division multiplexing， FDM）</h4><p><img src="https://i.loli.net/2021/10/11/KduOHNaS5oUZwIc.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<p>在链路带宽大于待传输信号带宽之和时使用：<strong>将不同的信号调制到不同频率的载波上，再将调制后的信号合并为一个复合信号进行传输</strong></p>
<p>不同信号的通道间会有部分带宽未被使用，作为<strong>防护带宽</strong>进行分隔以防止信号重叠</p>
<h4 id="波分复用（wave-division-multiplexing，-WDM）"><a href="#波分复用（wave-division-multiplexing，-WDM）" class="headerlink" title="波分复用（wave-division multiplexing， WDM）"></a>波分复用（wave-division multiplexing， WDM）</h4><p>将多个信号调制为不同波长的信号，合并为复合信号进行传输，类似于 FDM</p>
<blockquote>
<p>主要用于光缆</p>
</blockquote>
<h4 id="时分复用（time-division-multiplexing，TDM）"><a href="#时分复用（time-division-multiplexing，TDM）" class="headerlink" title="时分复用（time-division multiplexing，TDM）"></a>时分复用（time-division multiplexing，TDM）</h4><p>TDM 为数字化的共享过程，共享的是<strong>时间</strong>：<strong>每个连接占用该条链路的一个时间段进行传输</strong></p>
<h5 id="同步时分复用（synchronous-TDM）"><a href="#同步时分复用（synchronous-TDM）" class="headerlink" title="同步时分复用（synchronous TDM）"></a>同步时分复用（synchronous TDM）</h5><p><img src="https://i.loli.net/2021/10/11/Z2PHGCawpDjOM8i.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<ul>
<li>每个输入连接的数据流被划分成<strong>多个单元</strong>（一位、一字节、一个数据块…），每个输入占用一个输入间隙</li>
<li>每个输入单元成为一个输出单元，占用一个输出间隙</li>
<li>每个输出单元的持续时间是输入单元持续时间的 <code>1/n</code></li>
</ul>
<p>在同步 TDM 中，链路速率为数据速率的 n 倍，比单元持续时间短 n 倍，TDM 通过添加<strong>帧指示位</strong>解决复用器与解复用器间的同步问题</p>
<p>不同链路输入数据速率可能存在差异，当某一输入端没有数据发送时会出现<strong>空时隙</strong>，解决方案如下：</p>
<ul>
<li><strong>多级复用</strong>：多级 TDM</li>
<li><strong>多时隙分配</strong>：为一条输入线分配多个时隙</li>
<li><strong>脉冲填充</strong>：为速率较低的线路添加额外的虚位作为脉冲填充</li>
</ul>
<h5 id="统计时分复用（statistical-TDM）"><a href="#统计时分复用（statistical-TDM）" class="headerlink" title="统计时分复用（statistical TDM）"></a>统计时分复用（statistical TDM）</h5><p><img src="https://i.loli.net/2021/10/11/krDoZJAMEmi6O5d.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<p>动态地进行时隙的分配以避免空时隙的出现，提高带宽的效率，与同步 TDM 不同的是其不需要同步位</p>
<h3 id="6-2-扩频（spread-spectrum，SS）"><a href="#6-2-扩频（spread-spectrum，SS）" class="headerlink" title="6.2 扩频（spread spectrum，SS）"></a>6.2 扩频（spread spectrum，SS）</h3><p><img src="https://i.loli.net/2021/10/11/4wudMCfeF862aqg.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<p>将传输信号的频谱（spectrum）打散到较其原始带宽更宽的一种通信技术，常用于无线通信领域（LAN 与 WAN）</p>
<ul>
<li>对每个站点所需分配带宽比原所需带宽大</li>
<li>带宽的扩大过程为<strong>与原信号无关的过程</strong>，即在信号由源端生成后才进行扩频</li>
</ul>
<h2 id="Chapter-7-传输介质"><a href="#Chapter-7-传输介质" class="headerlink" title="Chapter 7 - 传输介质"></a>Chapter 7 - 传输介质</h2><h2 id="Chapter-8-交换"><a href="#Chapter-8-交换" class="headerlink" title="Chapter 8 - 交换"></a>Chapter 8 - 交换</h2><h2 id="Chapter-9-使用电话网与有线电视网进行数据传输"><a href="#Chapter-9-使用电话网与有线电视网进行数据传输" class="headerlink" title="Chapter 9 - 使用电话网与有线电视网进行数据传输"></a>Chapter 9 - 使用电话网与有线电视网进行数据传输</h2><h1 id="0x03-数据链路层"><a href="#0x03-数据链路层" class="headerlink" title="0x03.数据链路层"></a>0x03.数据链路层</h1><h2 id="Chapter-10-检错与纠错"><a href="#Chapter-10-检错与纠错" class="headerlink" title="Chapter 10 - 检错与纠错"></a>Chapter 10 - 检错与纠错</h2><h2 id="Chapter-11-数据链路控制"><a href="#Chapter-11-数据链路控制" class="headerlink" title="Chapter 11 - 数据链路控制"></a>Chapter 11 - 数据链路控制</h2><h2 id="Chapter-12-多路访问"><a href="#Chapter-12-多路访问" class="headerlink" title="Chapter 12 - 多路访问"></a>Chapter 12 - 多路访问</h2><h2 id="Chapter-13-有线局域网：以太网"><a href="#Chapter-13-有线局域网：以太网" class="headerlink" title="Chapter 13 - 有线局域网：以太网"></a>Chapter 13 - 有线局域网：以太网</h2><h2 id="Chapter-14-无线局域网"><a href="#Chapter-14-无线局域网" class="headerlink" title="Chapter 14 - 无线局域网"></a>Chapter 14 - 无线局域网</h2><h2 id="Chapter-15-连接局域网、主干网和虚拟局域网"><a href="#Chapter-15-连接局域网、主干网和虚拟局域网" class="headerlink" title="Chapter 15 -连接局域网、主干网和虚拟局域网"></a>Chapter 15 -连接局域网、主干网和虚拟局域网</h2><h2 id="Chapter-16-无线WAN：移动电话和卫星网络"><a href="#Chapter-16-无线WAN：移动电话和卫星网络" class="headerlink" title="Chapter 16 - 无线WAN：移动电话和卫星网络"></a>Chapter 16 - 无线WAN：移动电话和卫星网络</h2><h2 id="Chapter-17-广域网SONET-x2F-SDH"><a href="#Chapter-17-广域网SONET-x2F-SDH" class="headerlink" title="Chapter 17 - 广域网SONET&#x2F;SDH"></a>Chapter 17 - 广域网SONET&#x2F;SDH</h2><h2 id="Chapter-18-虚电路网络：帧中继和ATM"><a href="#Chapter-18-虚电路网络：帧中继和ATM" class="headerlink" title="Chapter 18 - 虚电路网络：帧中继和ATM"></a>Chapter 18 - 虚电路网络：帧中继和ATM</h2><h1 id="0x04-网络层"><a href="#0x04-网络层" class="headerlink" title="0x04.网络层"></a>0x04.网络层</h1><h2 id="Chapter-19-逻辑寻址"><a href="#Chapter-19-逻辑寻址" class="headerlink" title="Chapter 19 - 逻辑寻址"></a>Chapter 19 - 逻辑寻址</h2><h2 id="Chapter-20-IP协议"><a href="#Chapter-20-IP协议" class="headerlink" title="Chapter 20 - IP协议"></a>Chapter 20 - IP协议</h2><h2 id="Chapter-21-地址映射、差错报告和多播"><a href="#Chapter-21-地址映射、差错报告和多播" class="headerlink" title="Chapter 21 - 地址映射、差错报告和多播"></a>Chapter 21 - 地址映射、差错报告和多播</h2><h2 id="Chapter-22-传递、转发和路由选择"><a href="#Chapter-22-传递、转发和路由选择" class="headerlink" title="Chapter 22 - 传递、转发和路由选择"></a>Chapter 22 - 传递、转发和路由选择</h2><h1 id="0x05-传输层"><a href="#0x05-传输层" class="headerlink" title="0x05.传输层"></a>0x05.传输层</h1><h2 id="Chapter-23-UDP、TCP和SCTP"><a href="#Chapter-23-UDP、TCP和SCTP" class="headerlink" title="Chapter 23 - UDP、TCP和SCTP"></a>Chapter 23 - UDP、TCP和SCTP</h2><h2 id="Chapter-24-拥塞控制和服务质量"><a href="#Chapter-24-拥塞控制和服务质量" class="headerlink" title="Chapter 24 - 拥塞控制和服务质量"></a>Chapter 24 - 拥塞控制和服务质量</h2><h1 id="0x06-应用层"><a href="#0x06-应用层" class="headerlink" title="0x06.应用层"></a>0x06.应用层</h1><p>这一部分好像都是科普性质，考试应该也不考，可能要摸</p>
<h2 id="Chapter-25-域名系统"><a href="#Chapter-25-域名系统" class="headerlink" title="Chapter 25 - 域名系统"></a>Chapter 25 - 域名系统</h2><h2 id="Chapter-26-远程登陆、电子邮件与文件传输"><a href="#Chapter-26-远程登陆、电子邮件与文件传输" class="headerlink" title="Chapter 26 - 远程登陆、电子邮件与文件传输"></a>Chapter 26 - 远程登陆、电子邮件与文件传输</h2><h2 id="Chapter-27-万维网与超文本传输协议"><a href="#Chapter-27-万维网与超文本传输协议" class="headerlink" title="Chapter 27 - 万维网与超文本传输协议"></a>Chapter 27 - 万维网与超文本传输协议</h2><h2 id="Chapter-28-网络管理"><a href="#Chapter-28-网络管理" class="headerlink" title="Chapter 28 - 网络管理"></a>Chapter 28 - 网络管理</h2><h2 id="Chapter-29-多媒体"><a href="#Chapter-29-多媒体" class="headerlink" title="Chapter 29 - 多媒体"></a>Chapter 29 - 多媒体</h2><h1 id="0x07-网络安全"><a href="#0x07-网络安全" class="headerlink" title="0x07.网络安全"></a>0x07.网络安全</h1><p>这一部分好像都是科普性质，考试应该也不考，摸了</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/NETWORK/" class="category-chain-item">NETWORK</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">#计算机网络</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>【NETWORK.0x00】计算机网络原理学习笔记</div>
      <div>https://arttnba3.github.io/2021/09/27/NETWORK-0X00-COMPUTER_NETWORK_BASIS/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>arttnba3</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2021年9月27日</div>
        </div>
      
      
      <div class="license-meta-item">
        <div>许可协议</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - 署名">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2021/10/31/CTF-0X05-TCTF2021_FINAL/" title="【CTF.0x05】TCTF2021-FINAL 两道 kernel pwn 题解">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">【CTF.0x05】TCTF2021-FINAL 两道 kernel pwn 题解</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2021/09/07/PIECES-0X01-SHELL_OUTSIDE-1-WINDY_SUMMER/" title="【PIECES.0x01】Shell之外的往事：夏天的风">
                        <span class="hidden-mobile">【PIECES.0x01】Shell之外的往事：夏天的风</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  <article id="comments" lazyload>
    
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://lib.baomitu.com/valine/1.4.17/Valine.min.js', function() {
        var options = Object.assign(
          {"appid":"ICj6cPRQWFTNiOttBHlzxnIv-gzGzoHsz","appkey":"tuvJh3xYxPFcW2JB6K26RKP2","path":"window.location.pathname","placeholder":"说点什么呗（笑）","avatar":"retro","meta":["nick","mail","link"],"requiredFields":[],"pageSize":10,"lang":"zh-CN","highlight":false,"recordIP":false,"serverURLs":"","emojiCDN":null,"emojiMaps":null,"enableQQ":false,"appId":"ICj6cPRQWFTNiOttBHlzxnIv-gzGzoHsz","appKey":"tuvJh3xYxPFcW2JB6K26RKP2"},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


  </article>


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  









    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  <!-- 网站运行时间的设置 -->
  <span id="timeDate">载入天数...</span>
  <span id="times">载入时分秒...</span>
  <script>
      var now = new Date();
      function createtime() {
          var grt= new Date("04/20/2020 17:48:48");//此处修改你的建站时间或者网站上线时间
          now.setTime(now.getTime()+250);
          days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
          hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
          if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
          mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
          seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
          snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;}
          document.getElementById("timeDate").innerHTML = "arttnba3的小屋已经安全存在了 "+dnum+" 天 ";
          document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒";
      }
  setInterval("createtime()",250);
  </script>
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        总访问量 
        <span id="busuanzi_value_site_pv"></span>
         次
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        总访客数 
        <span id="busuanzi_value_site_uv"></span>
         人
      </span>
    
    
  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              load: ['ui/lazy']
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.1/es5/tex-mml-chtml.js" ></script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
